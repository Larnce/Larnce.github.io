<!DOCTYPE html>
<html>
<head><style type="text/css">body {
    font-family: "Helvetica Neue", Helvetica, Arial, san-serif;
    font-size: 1em;
    font-weight: 200;
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-position: center;
}
h2 {
    font-weight: 300;
    border-bottom: 1px solid rgba(0, 0, 0, 0.25);
    color: #FFFFFF;
  text-shadow: 2px 2px black;
}
h4 {
    font-weight: 00;
    border-bottom: 1px solid rgba(0, 0, 0, 0.25);
    color: white;
    font-size: 40;
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    text-shadow: 2px 2px black;
}
h1 {
    font-weight: bold;
    border-bottom: 1px solid rgba(0, 0, 0, 0.25);
    color: white;
    font-size: 40;
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    text-shadow: 2px 2px black;
}
  h3 {
    font-weight: 100;
    color:#000000;
    
  }
div.panel {
    padding: 5px;
    border-radius: 5px;
    border: 1px solid rgba(0, 0, 0, 0.25);
    margin-bottom: 10px;
    background-color: #FFFFFF;
  
}
span.info {
    font-size: 0.75em;
    font-style: italic;
}
.textWrapRight {
  clear: left;
  float: right;
  margin-right: 10px;
}
.marquee{
  width: 20px;
  height: 20px;
  overflow:hidden;
  color: Gold;
  font-style: oblique;
}
.marquee > span {
  position:relative;
  top:-100%;
  left:0;
  
}
.anim{
  animation-name: pep;
  animation-duration: 2s;
}
@keyframes pep {
  0%,100% {
    opacity:1;
    top:100%;
  }
  50% {
    opacity:1;
    top:0;
  }
}</style></head><body background="http://www.hdblog.it/img/id409943.jpg"><center><h1>P E P - T Y C O O N</h1></center> 
<left><button class="build" id="gather-save">Save</button></left>
  <left><button class="build" id="gather-load">Load</button></left>
<p>not working :(</p>

<center><img src="http://i.imgur.com/zegN4Ru.png" width="100" height="100">
<div class="">
  <h2>Peps:</h2> <span id="res-pep">4</span><br>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div class="marquee"><span class="anim">+1</span></div>
<button class="build" id="gather-pep">Trap</button>
</div></center>
<h2>Resources</h2>
<div class="panel res">
    Guns: <span id="res-scrap">0</span><br>
    <button class="build" id="gather-scrap">Gather</button>
</div>
<div class="panel res">
    Vodka: <span id="res-vodka">0</span><br>
    <button class="build" id="gather-vodka">Gather</button>
</div>


<h2>Russians</h2>
<div class="panel robot">
    Dimitri: <span id="rob-e">0</span><br>
    <span class="info" id="gather-e">Gathers 1 Guns / s</span><br>
    <button class="build" id="build-rob-e">Build (10 Guns, 1 Pep)</button>
</div>
<div class="panel robot">
    Nikolai: <span id="rob-z">0</span><br>
    <span class="info">Gathers 10 Guns / s</span><br>
    <button class="build" id="build-rob-z">Build (250 Guns, 25 Peps)</button>
</div>
  <div class="panel robot">
    Pep-Trapper 2000: <span id="peptrapper2000">0</span><br>
    <span class="info">Gathers 1 Pep / s</span><br>
    <button class="build" id="build-peptrapper2000">Build (1000 Guns, 250 Vodka)</button>
</div>
  <h2>Upgrades</h2>
<div class="panel upgrade">
    Dimitri Training: <span id="dim-training-num">0</span><br>
    <span class="info">Doubles the amount that Dimitri's collect per second</span><br>
    <button class="upgrade" id="novice-training">Upgrade (250 Vodka)</button>
</div>
<p>.</p>
  <h2>News and Updates</h2>
<div class="panel news">
  <p class="info">
    15/4/2016 (Lernc) - So many of you told me about the negative vodka that i needed to push this update asap ;p</p>
  <p>17/4/2016 (Phep) - I did a thing. What I mean by that is I drank a bottle of Vodka and done the animation for the trap button. any of you are asking to have a clickable pep face so I will get to work on that.</p>
  <p>.</p>
 <center> <p class="info">
    Don't get too attached to the game as currently you cannot save and you will lose the files upon refreshing the page!</p><br>
    
   <centre><p><b>Game Made by Larnce and Philip</b></p></centre>
<a href="https://docs.google.com/forms/d/1P4VJ7rltKSe2ekviT-1nJEycUJfnEUX7Wfbziw6axjc/viewform"><h2>Bug and Idea Submission</h2>
   </a></center></div><script>window.addEventListener('load', function() {
    var elements = {
        txtScrap: document.querySelector("#res-scrap"),
        txtVodka: document.querySelector("#res-vodka"),
        txtpep: document.querySelector("#res-pep"),
        txtRobotsTypeE: document.querySelector("#rob-e"),
        txtRobotsTypeEEE: document.querySelector("#dim-training"),
        txtRobotsTypeEE: document.querySelector("#gather-e"),
        btnRobotsTypeE: document.querySelector("#build-rob-e"),
        txtRobotsTypeZ: document.querySelector("#rob-z"),
        btnRobotsTypeZ: document.querySelector("#build-rob-z"),
        txtPeptrapper2000: document.querySelector("#peptrapper2000"),
        btnPeptrapper2000: document.querySelector("#build-peptrapper2000"),
        txtNoviceTraining: document.querySelector("#dim-training"),
      txtDimitri: document.querySelector("#dim-training-num"),
        btnNoviceTraining: document.querySelector("#novice-training")
    };
    
    var numScrap = 0;
    var numVodka = 0;
    var numpep = 0;
    var robotsTypeE = {
        count: 0,
        costscrap: 10,
        costpep: 1,
        scrap: 1
    };
    var robotsTypeZ = {
        count: 0,
        costscrap: 250,
        costpep: 25,
        scrap: 10
      };
  var robotsTypeEGather = {
    count: 0,
    cost: 250,
    amount: 1
  };
      var peptrapper2000 = {
        count: 0,
        costscrap: 1000,
        costvodka: 250,
        pep: 1
    };
  
    document.querySelector("#gather-scrap").addEventListener('click', function(evt) {
        numScrap++;
        updateScrapText();
      
    });
      document.querySelector("#gather-vodka").addEventListener('click', function(evt) {
        numVodka++;
        updateVodkaText();
    });
        document.querySelector("#gather-pep").addEventListener('click', function(evt) {
        numpep++;
        updatepepText();
    });
          document.querySelector("#gather-save").addEventListener('click', 	function save_game() {
   	localStorage['peptycoon'] = btoa(JSON.stringify(player));
	});
            document.querySelector("#gather-load").addEventListener('click', function load_game() {
        if (!localStorage['peptycoon']) return;
    	var save_data = JSON.parse(atob(localStorage['peptycoon']));
    player = save_data;
    update_view();
});
  
  var marquee = '<span class="anim">+1</span>';
$('.build').click(function(){
  $('.anim').remove();
  $('.marquee').append(marquee);
});
    document.querySelector("#build-rob-e").addEventListener('click', function(evt) {
        if (numScrap < robotsTypeE.costscrap) return;
        if (numpep < robotsTypeE.costpep) return;
        
        robotsTypeE.count += 1;
        numScrap -= robotsTypeE.costscrap;
        numpep -= robotsTypeE.costpep;
        robotsTypeE.costscrap = Math.ceil(robotsTypeE.costscrap * 1.25);
        robotsTypeE.costpep = Math.ceil(robotsTypeE.costpep * 1.25);
        updateTypeEText();
        updateScrapText();
        updatepepText();
    });
    
    document.querySelector("#build-rob-z").addEventListener('click', function(evt) {
        if (numScrap < robotsTypeZ.costscrap) return;
        if (numpep < robotsTypeZ.costpep) return;
      
        robotsTypeZ.count += 1;
        numScrap -= robotsTypeZ.costscrap;
        numpep -= robotsTypeZ.costpep;
        robotsTypeZ.cost = Math.ceil(robotsTypeZ.costscrap * 1.25);
        robotsTypeZ.cost = Math.ceil(robotsTypeZ.costpep * 1.25);
        updateTypeZText();
        updateScrapText();
        updatepepText();
    });
  
      document.querySelector("#build-peptrapper2000").addEventListener('click', function(evt) {
        if (numScrap < peptrapper2000.costscrap) return;
        if (numVodka < peptrapper2000.costvodka) return;
        
        peptrapper2000.count += 1;
        numScrap -= peptrapper2000.costscrap;
        numVodka -= peptrapper2000.costvodka;
        peptrapper2000.costscrap = Math.ceil(peptrapper2000.costscrap * 1.25);
        peptrapper2000.costvodka = Math.ceil(peptrapper2000.costvodka * 1.25);
        updatepeptrapper2000Text();
        updateScrapText();
        updateVodkaText();
    });
    
    
    function updateScrapText() {
        elements.txtScrap.innerHTML = numScrap;
    }
  
      function updateVodkaText() {
        elements.txtVodka.innerHTML = numVodka;
    }
        function updatepepText() {
        elements.txtpep.innerHTML = numpep;
    }
    
    function updateTypeEText() {
        elements.txtRobotsTypeE.innerHTML = robotsTypeE.count;
      elements.btnRobotsTypeE.innerHTML = "Build (" + robotsTypeE.costscrap + " Guns" + ", " + robotsTypeE.costpep + " Peps)";
    }
  
        function updateTypeEGatherText() {
        elements.txtNoviceTraining.innerHTML = robotsTypeEGather.count;
        elements.txtRobotsTypeE.innerHTML = "Gathers " + robotsTypeEGather.amount + " Guns / s"; 
        updateVodkaText();
        }
        function updateDimitriTrainingText() {
        elements.btnNoviceTraining.innerHTML = "Upgrade (" + robotsTypeEGather.cost + " Vodka)"; 
        elements.txtNoviceTraining.innerHTML = robotsTypeEGather.count;
        }
          
    function updateTypeZText() {
        elements.txtRobotsTypeZ.innerHTML = robotsTypeZ.count;
        elements.btnRobotsTypeZ.innerHTML = "Build (" + robotsTypeZ.costscrap + " Guns" + ", " + robotsTypeZ.costpep + " Peps)";
    }
    function updatepeptrapper2000Text() {
        elements.txtPeptrapper2000.innerHTML = peptrapper2000.count;
        elements.btnPeptrapper2000.innerHTML = "Build (" + peptrapper2000.costscrap + " Guns" + ", " + peptrapper2000.costvodka + " Vodka)";;      
    }
     document.querySelector("#novice-training").addEventListener('click', function(evt) {
           if (numVodka < robotsTypeEGather.cost) return;
    robotsTypeEGather.amount = Math.ceil(robotsTypeEGather.amount * 2);
    numVodka -= robotsTypeEGather.cost;
    robotsTypeEGather.cost = Math.ceil(robotsTypeEGather.cost * 2); 
    robotsTypeE.scrap = Math.ceil(robotsTypeE.scrap * 2);
    elements.txtNoviceTraining.innerHTML = Math.ceil(robotsTypeEGather.count + 1);
    updateVodkaText();
    updateTypeEGatherText();
    updateDimitriTrainingText();
});
  
    
    function gameLoop() {
        numScrap += Math.ceil(robotsTypeE.count * robotsTypeE.scrap);
        numScrap += Math.ceil(robotsTypeZ.count * robotsTypeZ.scrap);
        numpep += Math.ceil(peptrapper2000.count * peptrapper2000.pep);
        updateScrapText();
        updatepepText();
        updateVodkaText();
        window.setTimeout(gameLoop, 1000);
    }
    gameLoop();
});</script></body>
